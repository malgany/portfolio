<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tony Barbosa — Portfólio</title>
    <style>
      :root {
        --bg: #ffffff;
        --fg: #111111;
        --muted: #666666;
        --card: #f7f7f7;
        --border: #e5e5e5;
        --tag-bg: #efefef;
        --tag-fg: #111111;
        --badge-bg: #111111;
        --badge-fg: #ffffff;
        --shadow: 0 1px 2px rgba(0,0,0,0.06), 0 8px 24px rgba(0,0,0,0.06);
        --focus: 0 0 0 3px rgba(0,0,0,0.08);
      }
      [data-theme="dark"] {
        --bg: #0a0a0a;
        --fg: #f2f2f2;
        --muted: #a0a0a0;
        --card: #121212;
        --border: #222222;
        --tag-bg: #1a1a1a;
        --tag-fg: #f2f2f2;
        --badge-bg: #ffffff;
        --badge-fg: #000000;
        --shadow: 0 1px 2px rgba(0,0,0,0.3), 0 8px 24px rgba(0,0,0,0.25);
        --focus: 0 0 0 3px rgba(255,255,255,0.12);
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        background: var(--bg);
        color: var(--fg);
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
        line-height: 1.5;
      }

      /* Header */
      .site-header {
        position: sticky;
        top: 0;
        backdrop-filter: saturate(180%) blur(12px);
        background: color-mix(in oklab, var(--bg) 88%, transparent);
        border-bottom: 1px solid var(--border);
        z-index: 10;
      }
      .header-inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 18px 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }
      .brand {
        display: flex;
        align-items: baseline;
        gap: 10px;
      }
      .brand h1 { font-size: 22px; margin: 0; letter-spacing: 0.3px; }
      .brand small { color: var(--muted); font-size: 13px; }

      .theme-toggle {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        border: 1px solid var(--border);
        background: var(--bg);
        color: var(--fg);
        padding: 8px 12px;
        border-radius: 999px;
        cursor: pointer;
        box-shadow: var(--shadow);
      }
      .theme-toggle:focus-visible { outline: none; box-shadow: var(--focus); }
      .theme-toggle svg { width: 18px; height: 18px; }

      /* Main */
      .container { max-width: 1200px; margin: 24px auto; padding: 0 20px 60px; }

      .grid {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(1, minmax(0, 1fr));
      }
      @media (min-width: 640px) { .grid { grid-template-columns: repeat(2, 1fr); } }
      @media (min-width: 900px) { .grid { grid-template-columns: repeat(3, 1fr); } }
      @media (min-width: 1200px) { .grid { grid-template-columns: repeat(4, 1fr); } }

      .card {
        position: relative;
        border: 1px solid var(--border);
        background: var(--card);
        border-radius: 16px;
        padding: 18px 16px 16px;
        box-shadow: var(--shadow);
        display: flex;
        flex-direction: column;
        gap: 10px;
        min-height: 160px;
      }
      .card h3 {
        margin: 0 0 2px 0;
        font-size: 16px;
        letter-spacing: 0.2px;
      }
      .desc { color: var(--fg); opacity: 0.9; font-size: 14px; }
      .meta { display: flex; align-items: center; gap: 8px; color: var(--muted); font-size: 12px; margin-top: 4px; }

      .badge {
        position: absolute;
        top: 12px; right: 12px;
        background: var(--badge-bg);
        color: var(--badge-fg);
        border: 1px solid var(--border);
        padding: 4px 8px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 600;
        letter-spacing: .2px;
      }

      .chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 6px; }
      .chip {
        display: inline-flex; align-items: center;
        background: var(--tag-bg);
        color: var(--tag-fg);
        border: 1px solid var(--border);
        padding: 4px 8px;
        border-radius: 999px;
        font-size: 12px;
        line-height: 1;
      }

      .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
    </style>
  </head>
  <body>
    <header class="site-header" role="banner">
      <div class="header-inner">
        <div class="brand">
          <h1>Tony Barbosa</h1>
          <small>Portfólio</small>
        </div>
        <button id="toggleTheme" class="theme-toggle" aria-pressed="false" aria-label="Alternar tema claro/escuro">
          <svg id="iconSun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zm10.48 0l1.79-1.8 1.41 1.41-1.8 1.79-1.4-1.4zM12 4V1h-1v3h1zm0 19v-3h-1v3h1zM4 13H1v-1h3v1zm19 0h-3v-1h3v1zM6.76 19.16l-1.42 1.42-1.79-1.8 1.41-1.41 1.8 1.79zm12.69-.38l1.8 1.79-1.41 1.41-1.79-1.8 1.4-1.4zM12 6a6 6 0 100 12 6 6 0 000-12z"/></svg>
          <svg id="iconMoon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="display:none"><path d="M21.64 13a9 9 0 11-10.63-10.6A7 7 0 1021.64 13z"/></svg>
          <span>tema</span>
        </button>
      </div>
    </header>

    <main class="container" role="main">
      <section>
        <div id="grid" class="grid" aria-live="polite"></div>
      </section>
    </main>

    <script>
      // Dados dos repositórios (JSON como objeto JS)
      const repos = [
        { title: 'malgany', description: 'Config files for my GitHub profile.', topics: ['config','github-config'], language: '', updated: 'Updated 4 hours ago' },
        { title: 'lista-vagas', description: 'Listagem de vagas', topics: [], language: 'JavaScript', updated: 'Updated last week' },
        { title: 'cruzada', description: 'Game de cruzadinha.', topics: [], language: 'JavaScript', updated: 'Updated 3 weeks ago' },
        { title: 'tabuleiro', description: 'Game de tabuleiro.', topics: [], language: 'JavaScript', updated: 'Updated 3 weeks ago' },
        { title: 'operiodico', description: 'O Periódico', topics: [], language: 'HTML', updated: 'Updated on May 12' },
        { title: 'android-standard-model', description: 'Android Standard Model', topics: [], language: 'HTML', updated: 'Updated on Mar 24' },
        { title: 'pwa-cartoon', description: 'PWA criado com HTML, CSS e JavaScript usando Material Design.', topics: [], language: 'JavaScript', updated: 'Updated on Mar 15' },
        { title: 'api-cartoon', description: 'API simples em Node.js para o app SnapToon (transforma imagens em cartoon).', topics: [], language: 'JavaScript', updated: 'Updated on Mar 15' },
        { title: 'tanktank', description: 'Jogo web “TankTank” (GitHub Pages).', topics: [], language: 'JavaScript', updated: 'Updated on Mar 9' },
        { title: 'PHPChain', description: 'Implementa o padrão Chain of Responsibility em PHP.', topics: [], language: 'PHP', updated: 'Updated on Apr 25, 2024' },
        { title: 'sum20', description: 'A numbers game', topics: [], language: 'JavaScript', updated: 'Updated on Mar 21, 2024' },
        { title: 'aitools', description: 'Coleção de ferramentas simples de IA em HTML.', topics: [], language: 'HTML', updated: 'Updated on Mar 21, 2024' },
        { title: 'frames', description: 'Experimentos com frames em HTML.', topics: [], language: 'HTML', updated: 'Updated on Jul 19, 2023' },
        { title: 'portfolio', description: 'My personal portfolio website', topics: ['website','portfolio','personal-website','personal-portfolio'], language: 'HTML', updated: 'Updated on Mar 21, 2023' },
        { title: 'gpt-calendar', description: 'Experimentos de integração GPT + Calendar.', topics: [], language: 'JavaScript', updated: 'Updated on Mar 13, 2023' },
        { title: 'uno-online', description: 'Fork do UNO online.', topics: [], language: 'JavaScript', updated: 'Updated on Mar 12, 2023' },
        { title: 'a-estrela', description: 'Implementação do algoritmo A* (A-estrela).', topics: [], language: 'JavaScript', updated: 'Updated on Jul 27, 2022' },
        { title: 'qa-challenge-medium', description: 'Desafio de QA (nível médio).', topics: [], language: '', updated: 'Updated on Jun 1, 2022' },
        { title: 'qa-challenge-easy', description: 'Desafio de QA (nível fácil).', topics: [], language: '', updated: 'Updated on May 21, 2022' },
        { title: 'transfer-clothes', description: 'Aplicativo para gerenciamento/transferência de roupas.', topics: [], language: '', updated: 'Updated on Apr 20, 2022' },
        { title: 'jogodavelha2.0', description: 'Jogo da velha 2.0', topics: [], language: '', updated: 'Updated on Apr 17, 2022' },
        { title: 'estudos-de-git', description: 'Estudos de Git (fork).', topics: [], language: '', updated: 'Updated on Mar 17, 2022' },
        { title: 'ddd-laravel-model', description: 'DDD Laravel Model', topics: [], language: 'PHP', updated: 'Updated on Feb 28, 2022' },
        { title: 'PHPUnitProject', description: 'Melhores práticas em testes unitários.', topics: [], language: 'PHP', updated: 'Updated on Feb 13, 2022' },
        { title: 'SymfonyRESTful', description: 'API RESTful com Symfony.', topics: [], language: 'PHP', updated: 'Updated on Feb 9, 2022' },
        { title: 'FlappyIA', description: 'FlappyIA com Inteligência Artificial (synaptic.js, lodash.js).', topics: ['javascript','algorithm','ai','js','artificial-intelligence','ia'], language: 'JavaScript', updated: 'Updated on Feb 9, 2022' },
        { title: 'Semaforo', description: 'Simulador de semáforo e calculadora de estado.', topics: ['js','semaforo'], language: 'HTML', updated: 'Updated on Feb 7, 2022' },
        { title: 'api-classify-images', description: 'API que classifica imagens com TensorFlow.js e Teachable Machine.', topics: ['nodejs','javascript','tensorflow','tensorflowjs','teachablemachine'], language: 'JavaScript', updated: 'Updated on Feb 7, 2022' },
        { title: 'random-cpf-php', description: 'Ideias de programas diversos.', topics: [], language: 'PHP', updated: 'Updated on Feb 7, 2022' },
        { title: 'Compilador-8-semestre-CC', description: 'ATPs compartilhadas de Ciência da Computação (8º semestre).', topics: [], language: 'PHP', updated: 'Updated on Feb 7, 2022' },
        { title: 'ionic-appet', description: 'App de exemplo com Ionic.', topics: [], language: 'JavaScript', updated: 'Updated on Feb 11, 2017' },
        { title: 'appet', description: 'Aplicação para animais (venda, doação e procura).', topics: [], language: 'CSS', updated: 'Updated on Oct 25, 2016' },
        { title: 'Varios-Projetos', description: 'Repositório de projetos acadêmicos.', topics: [], language: 'Java', updated: 'Updated on Dec 20, 2015' }
      ];

      // Renderização dos cards
      const grid = document.getElementById('grid');
      function createCard(repo) {
        const card = document.createElement('article');
        card.className = 'card';
        card.setAttribute('role', 'article');

        if (repo.language) {
          const badge = document.createElement('span');
          badge.className = 'badge';
          badge.textContent = repo.language;
          card.appendChild(badge);
        }

        const title = document.createElement('h3');
        title.textContent = repo.title;
        card.appendChild(title);

        const desc = document.createElement('p');
        desc.className = 'desc';
        desc.textContent = repo.description && repo.description.trim() !== '' ? repo.description : 'Projeto sem descrição.';
        card.appendChild(desc);

        if (Array.isArray(repo.topics) && repo.topics.length) {
          const chips = document.createElement('div');
          chips.className = 'chips';
          repo.topics.forEach(t => {
            const chip = document.createElement('span');
            chip.className = 'chip';
            chip.textContent = t;
            chips.appendChild(chip);
          });
          card.appendChild(chips);
        }

        if (repo.updated) {
          const meta = document.createElement('div');
          meta.className = 'meta';
          meta.innerHTML = `
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="opacity:.75"><path d="M19 4h-1V2h-2v2H8V2H6v2H5a3 3 0 00-3 3v12a3 3 0 003 3h14a3 3 0 003-3V7a3 3 0 00-3-3zm1 15a1 1 0 01-1 1H5a1 1 0 01-1-1V10h16v9z"/></svg>
            <span>Atualizado: ${repo.updated}</span>`;
          card.appendChild(meta);
        }

        return card;
      }

      function renderGrid() {
        grid.innerHTML = '';
        repos.forEach(r => grid.appendChild(createCard(r)));
      }

      // Tema: salva preferência e tenta detectar do sistema apenas na primeira visita
      const root = document.documentElement;
      const toggleBtn = document.getElementById('toggleTheme');
      const iconSun = document.getElementById('iconSun');
      const iconMoon = document.getElementById('iconMoon');

      function setTheme(theme) {
        const t = theme === 'dark' ? 'dark' : 'light';
        root.setAttribute('data-theme', t);
        toggleBtn.setAttribute('aria-pressed', String(t === 'dark'));
        iconSun.style.display = t === 'dark' ? 'none' : '';
        iconMoon.style.display = t === 'dark' ? '' : 'none';
        localStorage.setItem('tb_theme', t);
      }

      function initTheme() {
        const saved = localStorage.getItem('tb_theme');
        if (saved) {
          setTheme(saved);
        } else {
          // tenta usar a preferência do sistema; se não der, padrão claro
          try {
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            setTheme(prefersDark ? 'dark' : 'light');
          } catch {
            setTheme('light');
          }
        }
      }

      toggleBtn.addEventListener('click', () => {
        const current = root.getAttribute('data-theme');
        setTheme(current === 'dark' ? 'light' : 'dark');
      });

      // Start
      initTheme();
      renderGrid();
    </script>
  </body>
</html>
